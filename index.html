<!DOCTYPE html>
<html>

<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-xxxxxxxx-x"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-xxxxxxxx-x');
  </script>

  <meta charset="UTF-8">
  <title>dgui</title>
  <meta name="description" content="dgui">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="src/index.css">
  <style>
    html,
    body {
      height: 100%;
      margin: 0;
      overflow: hidden;
    }
  </style>
</head>

<body>
  <script src="node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>

  <script type="text/javascript">
    {
      const script = document.createElement("script");
      document.currentScript.parentNode.insertBefore(script, document.currentScript.nextSibling);
      script.onload = () => {
        dgui.addInput({value: .5}, "value", {
          label: "Number"
        }).addEventListener("change", (e) => {
          console.log("Number", e.target.value);
        });
        dgui.addInput({value: 1}, "value", {
          label: "Range",
          max: 2,
        }).addEventListener("change", (e) => {
          console.log("Range", e.target.value);
        });
        dgui.addInput({value: "Lorem ipsum dolor sit amet, consectetur adipiscing elit."}, "value", {
          label: "Text"
        }).addEventListener("change", (e) => {
          console.log("Text", e.target.value);
        });
        dgui.addInput({value: true}, "value", {
          label: "Checkbox"
        }).addEventListener("change", (e) => {
          console.log("Checkbox", e.target.value);
        });
        dgui.addInput({
          label: "Button",
          onclick: () => {
            return "Button return value";
          }
        }).addEventListener("change", (e) => {
          console.log("Button", e.target.value);
        });
        dgui.addInput({value: 2}, "value", {
          label: "Select",
          options: [
            "One",
            2,
            true,
            [4, 8, 16, 32]
          ]
        }).addEventListener("change", (e) => {
          console.log("Select", e.target.value);
        });
        dgui.addInput({value: {r: 1, g: .5, b: 0}}, "value", {
          label: "Color RGB"
        }).addEventListener("change", (e) => {
          console.log("Color RGB", e.target.value);
        });
        dgui.addInput({value: [0, 1, .5]}, "value", {
          label: "Color Array",
          type: "color"
        }).addEventListener("change", (e) => {
          console.log("Color Array", e.target.value);
        });
        dgui.addInput({value: "rgba(127, 0, 255, 1)"}, "value", {
          label: "Color Style"
        }).addEventListener("change", (e) => {
          console.log("Color Style", e.target.value);
        });
      }
      if (/\bdev\b/.test(window.location.search)) {
        script.type = "module";
        script.src = "./src/index.js";
      } else {
        script.src = "./build/index.js";
      }
    }
  </script>
</body>

</html>